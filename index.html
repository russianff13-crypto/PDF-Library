<!DOCTYPE html>
<html lang="en">
<head>    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kita PDF Reader</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' blob: data: file: https://cdnjs.cloudflare.com https://raw.githubusercontent.com; img-src 'self' data: blob: https://raw.githubusercontent.com; connect-src 'self' https://api.github.com https://raw.githubusercontent.com;">
</head>
<body>    <!-- Initial Loading Screen -->
    <div class="initial-loading" id="initial-loading">
        <div class="loading-content">
            <img src="iconTrans.png" alt="Kita" class="loading-icon-img">
        </div>
    </div>
    <div id="title-bar">
        <div class="app-title">
            <img src="iconTrans.png" alt="Kita" class="app-icon">
            <span>Kita PDF Reader</span>
        </div>
        <div class="window-controls">
            <button id="settings-btn" class="settings-btn-title" title="Settings">
                <i class="fas fa-cog"></i>
            </button>
            <button id="min-btn" class="control-btn" title="Minimize"></button>
            <button id="max-btn" class="control-btn" title="Maximize"></button>
            <button id="close-btn" class="control-btn close-btn" title="Close"></button>        </div>
    </div>
    
    <!-- Settings Menu -->
    <div id="settings-menu" class="settings-menu hidden">
        <div class="settings-header">
            <h3><i class="fas fa-cog"></i> Settings</h3>
            <button class="close-settings-btn" id="close-settings-btn">×</button>
        </div>
        <div class="settings-content">
            <!-- Theme Selection -->
            <div class="settings-section">
                <div class="settings-section-title">
                    <i class="fas fa-palette"></i>
                    <span>Appearance</span>
                </div>
                <div class="theme-selector">
                    <button class="theme-option" data-theme="auto">
                        <i class="fas fa-magic"></i>
                        <span>Auto</span>
                        <small>System default</small>
                    </button>
                    <button class="theme-option" data-theme="light">
                        <i class="fas fa-sun"></i>
                        <span>Light</span>
                        <small>Bright mode</small>
                    </button>
                    <button class="theme-option" data-theme="dark">
                        <i class="fas fa-moon"></i>
                        <span>Dark</span>
                        <small>Night mode</small>
                    </button>
                </div>
            </div>
            
            <div class="settings-divider"></div>
              <!-- Update & About -->
            <div class="settings-section">
                <div class="settings-section-title">
                    <i class="fas fa-info-circle"></i>
                    <span>Application</span>
                </div>
                <div class="settings-item" id="reset-banner-btn">
                    <i class="fas fa-image"></i>
                    <div class="settings-item-content">
                        <span>Show Banner Again</span>
                        <small>Reset banner visibility</small>
                    </div>
                </div>
                <div class="settings-item" id="check-update-btn">
                    <i class="fas fa-sync-alt"></i>
                    <div class="settings-item-content">
                        <span>Check for Updates</span>
                        <small>Stay up to date</small>
                    </div>
                </div>                <div class="settings-item" id="about-btn">
                    <i class="fas fa-heart"></i>
                    <div class="settings-item-content">
                        <span>About Kita</span>
                        <small>Version 2.2.1</small>
                    </div>
                </div>
            </div>
        </div>    </div>    <!-- ✨ About Dialog - Beautiful & Spacious Design -->
    <div id="about-dialog" class="about-dialog-overlay hidden">
        <div class="about-beautiful-container">
            <!-- Close Button -->
            <button class="about-close-x" id="close-about-btn">
                <i class="fas fa-times"></i>
            </button>
            
            <!-- App Icon & Title -->
            <div class="about-app-header">
                <div class="about-app-logo">
                    <img src="iconTrans.png" alt="Kita PDF Reader">
                    <div class="logo-glow"></div>
                </div>
                <h1>Kita PDF Reader</h1>
                <div class="version-tag">Version 2.2.1</div>
                <p class="app-subtitle">Modern • Lightweight • Efficient</p>
            </div>
            
            <!-- Features Section -->
            <div class="about-features-section">
                <div class="feature-box">
                    <div class="feature-icon-wrapper">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h4>Clean Reading</h4>
                    <p>Distraction-free experience</p>
                </div>
                
                <div class="feature-box">
                    <div class="feature-icon-wrapper">
                        <i class="fas fa-moon"></i>
                    </div>
                    <h4>Dark Mode</h4>
                    <p>Easy on your eyes</p>
                </div>
                
                <div class="feature-box">
                    <div class="feature-icon-wrapper">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <h4>Library</h4>
                    <p>Organize your PDFs</p>
                </div>
            </div>
            
            <!-- Contact Section -->
            <div class="about-contact-section-new">
                <div class="contact-box-header">
                    <i class="fas fa-comment-dots"></i>
                    <div>
                        <h3>We'd Love to Hear From You</h3>
                        <p>Have questions, suggestions, or ideas? Feel free to reach out anytime.</p>
                    </div>
                </div>
                
                <div class="contact-email-container" id="copy-email-btn">
                    <div class="email-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <span class="email-address">samoutff22@gmail.com</span>
                    <button class="copy-btn-new">
                        <i class="fas fa-copy"></i>
                        Copy
                    </button>
                </div>
            </div>
            
            <!-- Footer -->
            <div class="about-footer-section">
                <p>&copy; 2025 Kita PDF Reader. All rights reserved.</p>
            </div>
            
            <!-- Toast -->
            <div class="about-copy-toast" id="email-copied">
                <i class="fas fa-check-circle"></i>
                Email copied to clipboard!
            </div>
        </div>
    </div>
    
    <!-- Update Dialog -->
    <div id="update-dialog" class="update-dialog hidden">
        <!-- Content dynamically generated -->
    </div>    <!-- Offline Indicator -->
    <div id="offline-indicator" class="offline-indicator hidden">
        <i class="fas fa-wifi-slash"></i>
        <span>Offline Mode</span>
    </div>    <div class="container" id="main-container">
        <!-- Dynamic Banner - فوق الـ Header مباشرة -->
        <div id="banner-container" class="banner-container">
            <!-- Skeleton Loader -->
            <div id="banner-skeleton" class="banner-skeleton">
                <div class="skeleton-shimmer"></div>
            </div>
            <!-- البانر الفعلي -->
            <img id="banner-image" src="" alt="Banner" class="banner-image">
            <button id="close-banner" class="close-banner-btn" title="Close banner">×</button>
        </div>

        <header>
            <div class="header-left">
                <h1><i class="fas fa-books"></i> Library</h1>
            </div>
            <div class="header-right">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="Search PDFs..." />
                    <button class="clear-search hidden" id="clear-search">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="sort-dropdown">
                    <button class="sort-btn" id="sort-btn">
                        <i class="fas fa-sort"></i>
                        <span id="sort-label">Sort: Date Added</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="sort-menu hidden" id="sort-menu">
                        <div class="sort-item active" data-sort="dateAdded">
                            <i class="fas fa-calendar-plus"></i>
                            <span>Date Added</span>
                        </div>
                        <div class="sort-item" data-sort="lastRead">
                            <i class="fas fa-clock"></i>
                            <span>Last Read</span>
                        </div>
                        <div class="sort-item" data-sort="oldest">
                            <i class="fas fa-history"></i>
                            <span>Oldest First</span>
                        </div>
                        <div class="sort-item" data-sort="random">
                            <i class="fas fa-random"></i>
                            <span>Random</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <h2 class="section-title"><i class="fas fa-layer-group"></i> Currently Reading</h2>
        <main id="pdf-grid" class="grid-container"></main>
        <div id="empty-state" class="empty-state hidden">
            <div class="empty-icon"><i class="fas fa-folder-open"></i></div>
            <h2>No PDFs in your library</h2>
            <p>Right-click anywhere to add PDFs</p>
        </div>
        
        <div id="read-section" class="hidden">
            <h2 class="section-title"><i class="fas fa-book-reader"></i> Completed</h2>
            <main id="read-grid" class="grid-container"></main>
            <div id="empty-read-state" class="empty-state hidden">
                <div class="empty-icon"><i class="fas fa-check"></i></div>
                <h2>No completed books yet</h2>
                <p>Mark PDFs as read to track your progress</p>
            </div>
        </div>
    </div>

    <div id="context-menu" class="context-menu hidden">
        <div class="context-item" id="ctx-rename">
            <i class="fas fa-edit ctx-icon"></i>
            <span>Rename</span>
        </div>
        <div class="context-item" id="ctx-mark-read">
            <i class="fas fa-check ctx-icon"></i>
            <span>Mark as Read</span>
        </div>
        <div class="context-divider"></div>
        <div class="context-item danger" id="ctx-delete">
            <i class="fas fa-trash ctx-icon"></i>
            <span>Delete</span>
        </div>
    </div>

    <div id="empty-context-menu" class="context-menu hidden">
        <div class="context-item" id="ctx-add-pdf">
            <i class="fas fa-plus ctx-icon"></i>
            <span>Add PDF</span>
        </div>
        <div class="context-divider"></div>
        <div class="context-item" id="ctx-open-storage">
            <i class="fas fa-folder-open ctx-icon"></i>
            <span>Open Storage Folder</span>
        </div>
    </div>

    <div id="viewer-overlay" class="viewer-overlay hidden">
        <div id="loading-screen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <h2 class="loading-title">Loading PDF...</h2>
                <div class="progress-bar-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <p class="loading-text">Page <span id="loading-current">0</span> of <span id="loading-total">0</span></p>
            </div>
        </div>
        
        <!-- Navbar Top - أشرطة التحكم العلوية -->
        <div class="viewer-navbar-top">
            <!-- Page Counter - Left Side -->
            <div class="navbar-page-counter" id="navbar-page-counter">
                <div class="page-counter-display" id="page-counter-display">
                    <span class="current-page-number" id="current-page">1</span>
                    <span class="page-separator">/</span>
                    <span class="total-page-number" id="page-count">0</span>
                </div>
                <div class="page-input-wrapper hidden" id="page-input-wrapper">
                    <input type="number" class="navbar-page-input" id="navbar-page-input" placeholder="Page" min="1">
                    <button class="navbar-go-btn" id="navbar-go-btn">
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- Controls - Right Side -->
            <div class="navbar-controls">
                <div class="navbar-zoom-controls">
                    <button id="zoom-out" class="navbar-btn" title="Zoom Out (-)"><i class="fas fa-search-minus"></i></button>
                    <span class="navbar-zoom-display"><span id="zoom-percent">100</span>%</span>
                    <button id="zoom-in" class="navbar-btn" title="Zoom In (+)"><i class="fas fa-search-plus"></i></button>
                    <button id="zoom-reset" class="navbar-btn" title="Fit to Width (0)"><i class="fas fa-expand-arrows-alt"></i></button>
                </div>
                  <div class="navbar-divider"></div>
                
                <button id="invert-colors" class="navbar-btn" title="Dark Mode (Ctrl+I)"><i class="fas fa-moon"></i></button>
                
                <div class="navbar-divider"></div>
                
                <!-- Window Controls -->
                <div class="navbar-window-controls">
                    <button id="viewer-min-btn" class="navbar-window-btn" title="Minimize">
                        <i class="fas fa-minus"></i>
                    </button>
                    <button id="viewer-max-btn" class="navbar-window-btn" title="Maximize">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button id="close-viewer" class="navbar-window-btn close-btn" title="Close (Esc)">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <div class="viewer-content" id="viewer-content">
            <div id="pdf-pages-container" class="pdf-pages-container"></div>
        </div>
    </div>

    <!-- ✨ Rename Modal - Premium UI with Book Cover -->
    <div id="rename-modal" class="rename-modal hidden">
        <div class="rename-modal-overlay"></div>
        <div class="rename-modal-content">
            <!-- ✨ Book Cover (كامل الـ Card) -->
            <div class="rename-book-preview">
                <div class="rename-book-cover">
                    <img id="rename-cover-img" src="" alt="Book Cover">
                    <div class="rename-cover-placeholder">
                        <i class="fas fa-book"></i>
                    </div>
                </div>
                <div class="rename-book-info">
                    <div class="rename-book-icon">
                        <i class="fas fa-file-pdf"></i>
                    </div>
                    <span id="rename-current-name">Book Name</span>
                </div>
            </div>
            
            <!-- Input Section -->
            <div class="rename-input-container">
                <div class="rename-header">
                    <i class="fas fa-edit"></i>
                    <h3>Rename Book</h3>
                </div>
                
                <div class="rename-form">
                    <label for="rename-input">New Name</label>
                    <input type="text" id="rename-input" class="rename-input" placeholder="Enter book name">
                </div>
                
                <div class="rename-actions">
                    <button class="rename-btn rename-btn-cancel" id="rename-cancel">
                        <i class="fas fa-times"></i>
                        <span>Cancel</span>
                    </button>
                    <button class="rename-btn rename-btn-confirm" id="rename-confirm">
                        <i class="fas fa-check"></i>
                        <span>Confirm</span>
                    </button>
                </div>
            </div>        </div>
    </div>

    <script src="banner-system.js"></script>
    <script type="module" src="renderer.js"></script>
</body>
</html>
